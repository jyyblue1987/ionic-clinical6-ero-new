{"version":3,"sources":["../gulpfile.ts"],"names":[],"mappings":"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","file":"gulpfile.js","sourcesContent":["\nvar gulp = require('gulp'),\n  sass    = require('gulp-sass'),\n  runSequence = require('run-sequence'),\n  // minifyCss   = require('gulp-minify-css'),\n  cleanCSS   = require('gulp-clean-css'),\n  sourcemaps = require('gulp-sourcemaps'),\n  tsc  = require('gulp-typescript'),\n  embedTemplates  = require('gulp-inline-ng2-template'),\n  exec = require('child_process').exec;\nvar concat = require('gulp-concat');\nvar gutil = require('gulp-util');\nvar header = require('gulp-header');\n\n//----\n//build steps\ngulp.task('build', function (done) {\n  \n  runSequence(\n    'clean-lib',\n    'compile-sass',\n    'compile-typings'\n  );\n\n});\n\n//----\n//clearing the output dir\ngulp.task('clean-lib', function (done) {\n  exec('rm -rf lib', function (err, stdOut, stdErr) {\n    if (err){\n      done(err);\n    } else {\n      done();\n    }\n  });\n});\n\n//----\n//typescript compilation including sourcemaps and template embedding\ngulp.task('compile-typings', function() {\n\n    //loading typings file\n    var tsProject = tsc.createProject('tsconfig.json');\n\n    gutil.log('Hello world!');\n    return  tsProject.src()\n        .pipe(embedTemplates({ \n            base:'/src',\n            useRelativePaths: true,\n            styleProcessor: (stylePath, ext, styleFile, callback) => {\n              // console.log('hi');\n              gutil.log('Hello world2!');\n              if (ext[0] === '.scss') {\n                let sassObj = sass.renderSync({ file: stylePath });\n                if (sassObj && sassObj['css']){\n                  styleFile = sassObj.css.toString('utf8');\n                }\n              }\n              return callback(null, styleFile);\n            }\n        }))\n        .pipe(tsProject())\n        .pipe(sourcemaps.init())\n        .pipe(sourcemaps.write('./'))\n        .pipe(gulp.dest('lib'));\n});\n\n//----\n//clearing the css file\ngulp.task('clean-css', function (done) {\n  exec('find ./src -type f -name \"*.css\" -exec rm {} \\\\;', function (err, stdOut, stdErr) {\n    if (err){\n      done(err);\n    } else {\n      done();\n    }\n  });\n});\n\n\n//Sass compilation and minifiction\ngulp.task('compile-sass', function () {\n  return runSequence(\n    'sass-clean',\n    'sass-add-default-imports',\n    'compile-sass-files',\n    'minify-css',\n    'sass-copy'\n  );\n});\n\n//clearing the css file\ngulp.task('sass-clean', function (done) {\n  return exec('rm -rf tmp', function (err, stdOut, stdErr) {\n    if (err){\n      done(err);\n    } else {\n      done();\n    }\n  });\n});\n\ngulp.task('sass-copy-files', function () {\n  return gulp.src(['./src/@ionic-clinical6/core/**/*.scss', './src/@ionic-clinical6/plugins/**/*.scss'])\n    .pipe(gulp.dest('./tmp'));\n});\n\ngulp.task('sass-add-default-imports', function () {\n  return gulp.src(['./src/@ionic-clinical6/core/**/*.scss', './src/@ionic-clinical6/plugins/**/*.scss'])\n    .pipe(header('@import \"variables.scss\";\\n@import \"global.scss\";\\n',))\n    .pipe(gulp.dest('./tmp/'));\n});\n\ngulp.task('compile-sass-files', function () {\n  return gulp.src(['./tmp/**/*.scss'])\n    .pipe(sass({\n        outputStyle: 'expanded',\n        includePaths: [\n          './src/@ionic-clinical6/theme/'\n        ]\n      }).on('error', sass.logError))\n    // .pipe(gulp.dest('./tmp'));\n    .pipe(concat('ionic-clinical6.scss'))\n    .pipe(gulp.dest('./tmp'));\n});\n\ngulp.task('minify-css', function() {\n  return gulp.src('./tmp/ionic-clinical6.scss')\n    .pipe(cleanCSS({\n      compatibility: '*',\n      format: {\n        breaks: { // controls where to insert breaks\n          afterAtRule: true, // controls if a line break comes after an at-rule; e.g. `@charset`; defaults to `false`\n          afterBlockBegins: true, // controls if a line break comes after a block begins; e.g. `@media`; defaults to `false`\n          afterBlockEnds: true, // controls if a line break comes after a block ends, defaults to `false`\n          afterComment: true, // controls if a line break comes after a comment; defaults to `false`\n          afterProperty: true, // controls if a line break comes after a property; defaults to `false`\n          afterRuleBegins: true, // controls if a line break comes after a rule begins; defaults to `false`\n          afterRuleEnds: true, // controls if a line break comes after a rule ends; defaults to `false`\n          beforeBlockEnds: true, // controls if a line break comes before a block ends; defaults to `false`\n          betweenSelectors: true // controls if a line break comes between selectors; defaults to `false`\n        },\n        indentBy: 2, // controls number of characters to indent with; defaults to `0`\n        indentWith: 'space', // controls a character to indent with, can be `'space'` or `'tab'`; defaults to `'space'`\n        spaces: { // controls where to insert spaces\n          aroundSelectorRelation: true, // controls if spaces come around selector relations; e.g. `div > a`; defaults to `false`\n          beforeBlockBegins: true, // controls if a space comes before a block begins; e.g. `.block {`; defaults to `false`\n          beforeValue: true // controls if a space comes before a value; e.g. `width: 1rem`; defaults to `false`\n        },\n        wrapAt: false // controls maximum line length; defaults to `false`\n      },\n      level: {\n        1: {\n          all: false, // sets all values to `false`\n        },\n        2: {\n          all: false, // sets all values to `false`\n          reduceNonAdjacentRules: true, // controls non-adjacent rule reducing; defaults to true\n          removeDuplicateFontRules: false, // controls duplicate `@font-face` removing; defaults to true\n          removeDuplicateMediaBlocks: true, // controls duplicate `@media` removing; defaults to true\n          removeDuplicateRules: true, // controls duplicate rules removing; defaults to true\n        }\n      }\n    }))\n    .pipe(gulp.dest('./tmp/lib'))\n});\n\ngulp.task('sass-copy', function() {\n    return gulp.src('./tmp/lib/ionic-clinical6.scss')\n      .pipe(gulp.dest('./lib/'));\n});\n"]}