{"version":3,"sources":["../src/@ionic-clinical6/plugins/calendar/calendar.component.ts"],"names":[],"mappings":"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","file":"calendar.component.js","sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CalendarEvent } from 'angular-calendar';\nimport moment from 'moment';\n\n@Component({\n    selector: 'calendar-component',\n    templateUrl: 'calendar.component.html'\n})\nexport class CalendarComponent {\n\n    @Input() legend: boolean;\n    @Input() events: CalendarEvent[];\n    @Input() records: any;\n    @Output() onEvent: EventEmitter<any> = new EventEmitter<any>();\n    today: any;\n    current_month: string;\n\n    constructor() {\n       this.today = moment();\n       this.current_month = moment().format('MMM YYYY');\n       setTimeout(() => {\n           this.colorDayNumbers();\n       }, 200);\n    }\n\n    navigate(dateView: any) {\n       this.current_month = moment(dateView).format('MMM YYYY');\n       setTimeout(() => {\n           this.colorDayNumbers();\n       }, 200);\n    }\n\n    eventAction(dayData: any) {\n       this.onEvent.emit({day: dayData['day'], events: dayData['day']['events']});\n    }\n\n    colorDayNumbers() {\n        // to change when records are available\n       if (!this.records || this.records.length === 0) return;\n       let monthRecords = [];\n       let viewMonth = parseInt(moment(this.current_month, 'MMM YYYY').format('MM')) - 1;\n       for (let record of this.records) {\n           let recordMonth = new Date(record['date']).getMonth();\n           if (recordMonth === viewMonth) monthRecords.push(record);\n       }\n       let days = document.getElementsByClassName('cal-day-number');\n       for (let record of monthRecords) {\n         let current = new Date(record['date']).getDate();\n         for (let i = 0; i < days.length; i++) {\n             if (current === parseInt(days[i].innerHTML) &&\n               !days[i].parentElement.parentElement.classList.contains('cal-out-month')) {\n               if (record['use'])\n                 days[i].classList.add('green-colored');\n               else\n                 days[i].classList.add('red-colored');\n             }\n         }\n       }\n    }\n}"]}