{"version":3,"sources":["../src/@ionic-clinical6/core/flow_process/flow_steps/verify-card/flowstep-verifycard.ts"],"names":[],"mappings":"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","file":"flowstep-verifycard.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { Modal, NavController, ModalController, NavParams } from 'ionic-angular';\n\nimport { VerifyCardComponent, VerifyItem } from '../../items/verify-card/verify-card.component';\nimport { FlowStepPage } from '../flowstep';\nimport { FlowService } from '../../flow.service';\nimport { UtilsService } from '../../../utils.service';\n\nclass VerifyLabDirector implements VerifyItem {\n\n  first_name: string;\n  last_name: string;\n  license_number: string;\n\n  constructor(object: any) {\n    this.first_name = object['first_name'] != null ? object['first_name'] : '';\n    this.last_name = object['last_name'] != null ? object['last_name'] : '';\n    this.license_number = object['license_number'] != null ? object['license_number'] : '';\n\n    this.itemHeader = 'Lab Director';\n    this.itemTitle = this.first_name + ' ' + this.last_name;\n    this.itemDescription = 'Medical License Number: ' + this.license_number;\n  }\n\n    itemHeader: string;\n    itemTitle: string;\n    itemDescription: string;\n\n}\n\nclass VerifyLab implements VerifyItem {\n  id: string;\n  name: string;\n\n  address1: string;\n  address2: string;\n  address3: string;\n  city: string;\n  state: string;\n  country: string;\n  zip_code: string;\n\n  itemHeader: string;\n  itemTitle: string;\n  itemDescription: string;\n\n  constructor(object: any) {\n    this.id = object['id'];\n    this.name = object['name'] != null ? object['name'] : '';\n\n    // this.address1 = object['address_line_1'];\n    this.address1 = object['address_line_1'] != null ? object['address_line_1'] : '';\n    this.address2 = object['address_line_2'] != null ? object['address_line_2'] : '';\n    this.address3 = object['address_line_3'] != null ? object['address_line_3'] : '';\n    this.city = object['city'] != null ? object['city'] : '';\n    this.state = object['state'] != null ? object['state'] : '';\n    this.country = object['country'] != null ? object['country'] : '';\n    this.zip_code = object['zip_code'] != null ? object['zip_code'] : '';\n\n    this.itemHeader = 'Primary Address';\n    this.itemTitle = this.name;\n\n    let comma1 = (this.city.length > 0 && this.state.length > 0) ? ', ' : '';\n    let comma2 = (this.zip_code != null && this.country.length > 0) ? ', ' : '';\n    let comma3 = (this.address1.length > 0 && this.address2.length > 0) ? ', ' : '';\n    let comma4 = (this.address2.length > 0 && this.address3.length > 0) ? ', ' : '';\n\n    this.itemDescription = this.address1 + comma3 + this.address2 + comma4 + this.address3 + '<br>'\n      + this.city + comma1 + this.state + ' '\n      + this.zip_code + comma2 + this.country;\n\n  }\n}\n\nclass VerifyIRBContact implements VerifyItem {\n\n  phone: string;\n  fax: string;\n  email: string;\n\n  itemHeader: string;\n  itemTitle: string;\n  itemDescription: string;\n\n  constructor(object: any) {\n    this.phone = object['phone_number'] != null ? object['phone_number'] : '703-123-4567';\n    this.fax = object['fax_number'] != null ? object['fax_number'] : '555-555-5555';\n    this.email = object['email'] != null ? object['email'] : 'email@parallel6.com';\n\n    this.itemHeader = 'IRB Contact';\n    this.itemTitle = object['contact_first_name'] != null ? object['contact_first_name'] + ' ' + object['contact_last_name'] : '';\n    this.itemDescription = 'Phone: ' + this.phone + '<br>'\n      + 'Fax: ' + this.fax + '<br>'\n      + 'Email: ' + this.email;\n  }\n\n}\n\nclass VerifyIRBAddress implements VerifyItem {\n  id: string;\n  name: string;\n\n  address1: string;\n  address2: string;\n  address3: string;\n  city: string;\n  state: string;\n  country: string;\n  zip_code: string;\n\n  itemHeader: string;\n  itemTitle: string;\n  itemDescription: string;\n\n  constructor(object: any) {\n    this.id = object['id'];\n    this.name = object['name'];\n\n    // this.address1 = object['address_line_1'];\n    this.address1 = object['address_line_1'] != null ? object['address_line_1'] : '';\n    this.address2 = object['address_line_2'] != null ? object['address_line_2'] : '';\n    this.address3 = object['address_line_3'] != null ? object['address_line_3'] : '';\n    this.city = object['city'] != null ? object['city'] : '';\n    this.state = object['state'] != null ? object['state'] : '';\n    this.country = object['country'] != null ? object['country'] : '';\n    this.zip_code = object['zip_code'] != null ? object['zip_code'] : '';\n\n    this.itemHeader = 'IRB Address';\n    this.itemTitle = object['title'] != null ? object['title'] : '';\n\n    // Logic still tbd - contingent on validation of IRB fields during entry\n    /*\n    let comma1 = (this.city.length > 0 && this.state.length > 0) ? ', ' : '';\n    let comma2 = (this.zip_code.length > 0 && this.country.length > 0) ? ', ' : '';\n\n    this.itemDescription = this.address1 + '<br>'\n      + this.city + comma1 + this.state + ' '\n      + this.zip_code + comma2 + this.country;*/\n\n    let comma1 = (this.city.length > 0 && this.state.length > 0) ? ', ' : '';\n    let comma2 = (this.zip_code != null && this.country.length > 0) ? ', ' : '';\n    let comma3 = (this.address1.length > 0 && this.address2.length > 0) ? ', ' : '';\n    let comma4 = (this.address2.length > 0 && this.address3.length > 0) ? ', ' : '';\n\n    this.itemDescription = this.address1 + comma3 + this.address2 + comma4 + this.address3 + '<br>'\n      + this.city + comma1 + this.state + ' '\n      + this.zip_code + comma2 + this.country;\n  }\n}\n\n@Component({\n  selector: 'flowstep-verifycard',\n  templateUrl: 'flowstep-verifycard.html'\n})\n\nexport class FlowStepVerifyCardPage extends FlowStepPage {\n  verifyInfoList: VerifyItem[] = [];\n\n  constructor(\n    public utilsSvc: UtilsService,\n    public navParams: NavParams,\n    public navController: NavController,\n    public flowCtlr: FlowService,\n    public modalCtrl: ModalController,\n  ) {\n    super(utilsSvc, navParams, navController, flowCtlr, modalCtrl);\n    let studyId: string;  // todo add request for study id\n\n    let endpoint = this.step.endpoint;\n    let parser: (info: any) => void;\n\n    let self = this;\n\n    switch (this.step.flow.id) {\n      case 'study_verify_lab':\n        parser = function (info) {\n          if (info['lab'])\n            self.verifyInfoList.push(new VerifyLab(info['lab']));\n\n          if (info['lab_director'])\n            self.verifyInfoList.push(new VerifyLabDirector(info['lab_director']));\n        };\n        break;\n      case 'verify_lab':\n        parser = function (info) {\n          if (info['lab_director'])\n            self.verifyInfoList.push(new VerifyLabDirector(info['lab_director']));\n\n          if (info['lab'])\n            self.verifyInfoList.push(new VerifyLab(info['lab']));\n        };\n        break;\n\n      case 'verify_irb':\n        parser = function (info) {\n          self.verifyInfoList.push(new VerifyIRBAddress(info));\n          self.verifyInfoList.push(new VerifyIRBContact(info));\n        };\n        break;\n    }\n\n    // if (parser) {\n    //   this.AppService.getVerifyInfo(this.step.endpoint, this.step.flow.owner)\n    //     .then(info => parser(info))\n    //     .catch(reason => console.log(reason));\n    // }\n  }\n} "]}