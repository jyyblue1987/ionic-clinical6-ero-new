{"version":3,"sources":["../src/@ionic-clinical6/core/pages/faq/faq.ts"],"names":[],"mappings":"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","file":"faq.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { ViewController } from 'ionic-angular';\nimport { LoadingController, AlertController } from 'ionic-angular';\nimport { Clinical6Service } from '../../clinical6.service';\n\nimport { AlertModalPage } from '../../modal/alert-modal';\nimport { AppConfig } from '../../config';\nimport { TranslatorService } from '../../translator/translator.service';\n\n@Component({\n  selector: 'faqs-page',\n  templateUrl: 'faq.html'\n})\nexport class FAQsPage {\n  isLoading: boolean = true;\n  image: string;\n  title: string;\n  faqs: Array<{title: string, position: number, details: string, expanded: boolean, detailsHeight: string}>;\n  permLink: string;\n\n  constructor(\n    public nav: NavController,\n    public translator: TranslatorService,\n    public captiveReach: Clinical6Service,\n    public navParams: NavParams,\n    public loader: LoadingController,\n    public alertCtrl: AlertController,\n    public viewCtrl: ViewController) {\n\n    this.title = navParams.get('menu') !== undefined ? navParams.get('menu').title : 'FAQs';\n    this.faqs = [];\n    this.permLink = navParams.get('permanent_link') || 'faqs';  \n  }\n  ionViewDidLoad() {\n    var thisRef = this;\n    this.captiveReach.getDynamicContent(this.permLink)\n    .then( result => {\n      this.isLoading = false;\n      let res = result as Array<any>;\n      res.forEach( item => {\n        let question = item.title;\n        thisRef.faqs.push({\n          title: question,\n          position: parseInt(item.position),\n          details: item.rich_description ? item.rich_description : item.description,\n          expanded: false,\n          detailsHeight: ''\n        });\n      });\n      // sort results\n      thisRef.faqs.sort((a, b) => { return (a.position - b.position); });\n    }).catch(e => {\n      this.isLoading = false;\n      let alert = this.alertCtrl.create({\n          title: 'Connection Error',\n          subTitle: 'Unable to retrieve information from Server. Please check your network connection and try again later.',\n          buttons: [\n            {\n              text: 'Ok',\n              handler: data => {\n              }\n            }\n            ]\n        });\n        alert.present();\n        console.log('get Faqs error:', e);\n        this.nav.pop();\n        });\n  }\n  toggleDetails(item: {title: string, position: number, details: string, expanded: boolean, detailsHeight: string}) {\n    if (item.expanded) {\n      item.expanded = false;\n    } else {\n      this.faqs.forEach((i) => { i.expanded = false; });\n      item.expanded = true;\n\n      if (item.detailsHeight === '') {\n        // Calculates the appropriate height of the item's DOM element\n        // ... by doing some DOM tricks\n        document.getElementById('item_' + item.position).style.height = 'auto';\n        var height = document.getElementById('item_' + item.position).offsetHeight + 'px';\n        document.getElementById('item_' + item.position).style.height = '0px';\n\n        // needed to allow for the renderer to complete all previous commands\n        // and render the wanted height properly\n        setTimeout(() => { item.detailsHeight = height; }, 50);\n      }\n    }\n  }\n}"]}