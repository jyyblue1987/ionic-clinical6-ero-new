{"version":3,"sources":["../src/@ionic-clinical6/core/pages/contact/contact.ts"],"names":[],"mappings":"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","file":"contact.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, NavParams, Platform } from 'ionic-angular';\nimport { clinical6, mobileUserService } from 'clinical6';\nimport { TranslatorService } from '../..';\n\n@Component({\n    selector: 'contact-page',\n    templateUrl: 'contact.html'\n})\nexport class ContactPage {\n  permLink: string;\n  contactInformations = {};\n  techInformations = {};\n\n\n  constructor(\n      public platform: Platform,\n      public translator: TranslatorService,\n      public nav: NavController,\n      public navParams: NavParams) {\n      }\n\n  async ngOnInit() {\n    this.permLink = this.navParams.get('permanent_link') || 'contact_information';\n    try {\n      await this.fetchTrialSite();\n    } catch (error) {\n      console.log('Error fetching trial site', error);\n    }\n  }\n\n  async fetchTrialSite() {\n    const self = this;\n    try {\n      let siteData = await mobileUserService.getSites();\n      console.log('siteData:', siteData);\n      await self.fillInformations(siteData[0]);\n    } catch (error) {\n      console.log('Error fetching trial site info', error);\n    }\n    \n  }\n\n  async fillInformations(site) {\n    this.contactInformations = {\n      'siteName': site.name? site.name : 'no site name',\n      'siteAddress1': site._location.addressLine1? site._location.addressLine1 : 'no address',\n      'siteAddress2': site._location.addressLine2? site._location.addressLine2 : 'no address',\n      'sitePhoneNumber': site.phoneNumber? site.phoneNumber : 123456789,\n      'siteEmail': site.email? site.email: 'test@test.com'\n    };\n  }\n\n  drivingDirections() {\n    let address = this.contactInformations['siteAddress1'] + ',' + this.contactInformations['siteAddress2'];\n    address = encodeURI(address);\n\n    // https://developer.apple.com/library/content/featuredarticles/iPhoneURLScheme_Reference/MapLinks/MapLinks.html\n    if (this.platform.is('ios')) {\n      window.open('http://maps.apple.com/?address=' + address, '_system');\n    }\n    // android\n    // https://developers.google.com/maps/documentation/android-api/intents?hl=en\n    if (this.platform.is('android')) {\n      window.open('geo://0,0?q=' + address, '_system');\n    }\n  }\n\n  translate(string_key) {\n    let s = this.translator.getInnerHTML(string_key);\n    return s || string_key;\n  }\n\n}"]}