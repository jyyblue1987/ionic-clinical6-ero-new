{"version":3,"sources":["../src/@ionic-clinical6/core/pages/profile/companions/companions-dashboard.ts"],"names":[],"mappings":"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","file":"companions-dashboard.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { User } from 'clinical6';\nimport { COMPANION_PROFILE_FORM } from '../profile.mock';\nimport { UserProfilePage } from '../user-profile/user-profile';\nimport { ProfileService, CompanionModel } from '../profile.service';\nimport { UtilsService } from '../../../utils.service';\n\n@Component({\n  selector: 'companions-dashboard-page',\n  templateUrl: 'companions-dashboard.html'\n})\nexport class CompanionsDashboardPage {\n    /** @param  {Array<CompanionModel>} companions - Parameter used to save/store Companions  */\n    companions: Array<CompanionModel>;\n    /** @param  {boolean} useOldApi  - Enables the fetch methods in order to use old v1/v2 apis */\n    useOldApi: boolean;\n    /** @param  {Object} page  - Default values for the page */\n    page = {\n        toolbar: 'Companions',\n        title: 'Companions List',\n        image: null,\n        description: 'Tap to see your companion info'\n    };\n    constructor(\n        public utilsSvc: UtilsService,\n        public profileSvc: ProfileService,\n        public loadingController: LoadingController,\n        public navParams: NavParams,\n        public nav: NavController) {\n            this.useOldApi = this.navParams.get('useOldApi') || false;\n            this.getCompanionsList();\n    }\n\n    /**\n     * @async \n     * @function getCompanionsList - Get the Companions List\n    **/\n    async getCompanionsList() {\n        this.utilsSvc.presentLoading('');\n        try {\n            this.companions = [];\n            this.companions = await this.profileSvc.getCompanionsList(this.useOldApi)\n            console.log('companions list', this.companions);\n        } catch (e) {\n            console.error(e);\n        }\n        this.utilsSvc.dismissLoader();\n    }\n\n    /**\n     * @async \n     * @function showCompanionProfile - Shows the companion profile\n    **/\n    async showCompanionProfile(companion: any) {\n        this.utilsSvc.presentLoading('');\n        try {\n            let user = new User({id: companion.id, type: companion.type});\n            const profile = await this.profileSvc.getUserProfile(false, user);\n            let step = this.navParams.get('step') || COMPANION_PROFILE_FORM;\n            this.nav.push(UserProfilePage, { step: step, profile: profile, useOldApi: false, user: user });\n        } catch (e) {\n          console.error(e);\n        }\n        this.utilsSvc.dismissLoader();\n      }\n\n    /**\n     * @type {string} - Returns the Companion info about the first and the last name\n     **/\n    getTitle(companion) {\n        return companion.attributes.first_name ? (companion.attributes.first_name + ' ' +\n            (companion.attributes.last_name ? companion.attributes.last_name : '')) : null;\n    }\n\n    /**\n     * @type {string} - Returns the Companion info about the first and the last name\n     **/\n    getSubtitle(companion) {\n        return companion.attributes.first_name ? (companion.attributes.first_name + ' ' +\n            (companion.attributes.last_name ? companion.attributes.last_name : '')) : null;\n    }\n\n    /**\n     * @type {string} - Returns the Companion info about the relationship\n     **/\n    getInfo(companion) {\n        return companion.relationship ? companion.relationship : null;\n    }\n}"]}