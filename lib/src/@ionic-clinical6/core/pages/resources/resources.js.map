{"version":3,"sources":["../src/@ionic-clinical6/core/pages/resources/resources.ts"],"names":[],"mappings":"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","file":"resources.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, ViewController, LoadingController, ModalController, NavParams } from 'ionic-angular';\n\nimport { Clinical6Service } from '../../clinical6.service';\n\nimport { PlainPage } from '../plain/plain-page';\nimport { AboutPage } from '../about/about';\nimport { FAQsPage } from '../faq/faq';\nimport { GlossaryPage } from '../glossary/glossary';\n\nimport { AlertModalPage } from '../../modal/alert-modal';\nimport { AppConfig } from '../../config';\n\n@Component({\n  selector: 'resources-page',\n  templateUrl: 'resources.html'\n})\nexport class ResourcesPage {\n    pages: Array<{title: string, destination: any, item: any, position: any}>;\n    loadingCtrl: any;\n\n    constructor(private captiveReach: Clinical6Service,\n                private nav: NavController,\n                private loader: LoadingController,\n                public modalCtrl: ModalController,\n                private viewCtrl: ViewController,\n                public navParams: NavParams) {\n\n        if (this.navParams.get('menu') && this.navParams.get('menu')['subcategories']) {\n            this.pages = this.navParams.get('menu')['subcategories'];\n        }\n    }\n    ionViewDidLoad() {\n        // shows a loading control while data is being gathered\n        this.loadingCtrl = this.loader.create({content: 'Loading...'});\n        this.loadingCtrl.present();\n\n        this.loadResources();\n    }\n\n    loadResources() {\n        var thisRef = this;\n        this.pages = [];\n\n        this.captiveReach.getDynamicContent('resources')\n            .then(result => {\n                thisRef.pages.push.apply( thisRef.pages, Array.from(result as Array<any>, (v) => {\n                    var dest: any;\n                    var params: any;\n                    switch (v.api_key) {\n                            case 'about_page':\n                                dest = AboutPage;\n                                break;\n                            case 'glossary_page':\n                                dest = GlossaryPage;\n                                break;\n                            case 'faqs_page':\n                                dest = FAQsPage;\n                                break;\n                            default:\n                                dest = PlainPage;\n                                break;\n                    };\n                    return {\n                                title: v.title,\n                                destination: dest,\n                                item: v,\n                                position: parseInt(v.position)\n                    };\n                }));\n                thisRef.pages.sort((a, b) => { return (a.position - b.position); });\n\n                thisRef.loadingCtrl.dismiss();\n            }).catch(e => {\n                thisRef.loadingCtrl.dismiss()\n                    .then(() => {\n                         AlertModalPage.show(\n                                thisRef, {\n                                            type: 'type_error',\n                                            body: 'Please make sure you have a working network connection.',\n                                            subTitle: 'Unable to retrieve data from server' });\n                    });\n                console.log('get Resources error: ' + e);\n            });\n    }\n    goToPage(res: any) {\n        this.nav.push(res.destination, {page: res.item}, AppConfig.animationOpt);\n    }\n}"]}