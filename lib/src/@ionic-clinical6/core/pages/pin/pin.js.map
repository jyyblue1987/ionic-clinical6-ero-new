{"version":3,"sources":["../src/@ionic-clinical6/core/pages/pin/pin.ts"],"names":[],"mappings":"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","file":"pin.js","sourcesContent":["import { Component } from '@angular/core';\nimport { Modal, NavController, ModalController, AlertController, Alert, NavParams, Loading, LoadingController } from 'ionic-angular';\nimport { clinical6, flowService, mobileUserService, Client } from 'clinical6';\nimport { Clinical6Service } from '../../clinical6.service';\nimport { FlowsModule } from '../../';\nimport { HelpModalPage } from '../../modal/help-modal';\nimport { Flows } from '../../flow_process/flow-factory';\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { LoginWithPinPage } from '../login-with-pin/login-with-pin';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { AppConfig } from '../../config/app.config';\nimport { TranslatorService } from '../../translator/translator.service';\nimport { AppLoginService } from '../../login.service';\n\n@Component({\n  selector: 'pin-page',\n  templateUrl: 'pin.html'\n})\nexport class PinPage {\n  apiBaseUrl: string;\n  authForm: FormGroup;\n  pin: string;\n  pinConfirm: string;\n  isNavigating: boolean = false;\n  nextFlow: boolean;\n  focusOut: boolean;\n  loading: Loading;\n\n  _title: string = '';\n  _pinLabel: string = '';\n  _pinConfirmationLabel: string = '';\n  _helpText = '';\n  _pinError = '';\n  _unlockMessage = '';\n\n  constructor(\n    public loadingController: LoadingController,\n    public appConfig: AppConfig,\n    public loginSvc: AppLoginService,\n    public translatorService: TranslatorService,\n    public nav: NavController,\n    public navParams: NavParams,\n    public captiveReach: Clinical6Service,\n    public modalCtrl: ModalController,\n    public alertCtrl: AlertController,\n    public formBuilder: FormBuilder,\n    public keyboard: Keyboard\n  ) {\n    this.apiBaseUrl = clinical6.apiBaseUrl;\n    // this.authToken = this.navParams.get('authToken');\n    this.authForm = formBuilder.group({\n      'pin': ['', Validators.compose([Validators.required, Validators.minLength(6), Validators.pattern('[0-9]+')])],\n      'pinConfirm': ['', Validators.compose([Validators.required, Validators.minLength(6), Validators.pattern('[0-9]+')])]\n    });\n  }\n\n  ngOnInit() {\n    this.keyboard.hideKeyboardAccessoryBar(false);\n  }\n\n  ionViewWillEnter() {\n    this.isNavigating = false;\n    if (AppConfig.demoMode)\n      this.nextFlow = true;\n    else this.nextFlow = false;\n  }\n\n  // this avoid a return to the PinPage if the pin has already been created and if the next button is pushed\n  ionViewDidLeave() {\n    console.log('LoginWithPinPage, ionViewDidLeave');\n    if (this.nextFlow) {\n      this.nav.remove(0, this.nav.length() - 1);\n      this.nav.insert(0, LoginWithPinPage);\n    }\n  }\n\n  unlock() {\n    if (!this.isNavigating) {\n      this.presentLoading();\n\n      this.isNavigating = true;\n      console.log('unlock App with PIN');\n\n      // do pins match?\n      if (this.pin !== this.pinConfirm) {\n        this.loading.dismiss().then(() => {\n          this.showAlert('Error', 'PIN values do not match');\n          this.isNavigating = false;\n        });\n      } else {\n\n        const id = localStorage.getItem('confirmedUserID');\n\n        mobileUserService.acceptInvitation(this.loginSvc.currToken, { password: this.pin, device: Client.instance.device })\n        .then( newUser  => {\n            // Make sure that you store the Mobile User that is returned by this endpoint (done by clinical6)\n            // Make sure that you update the access token with the one that is sent back in the response (done by clinical6)\n\n            // Updating the localstorage\n            localStorage.setItem('currentUser', JSON.stringify(clinical6.user.toJSON()));\n            localStorage.setItem('user', JSON.stringify(clinical6.user));\n\n            // Once the invitation has been completed, the status of the mobile user should be transition to Active\n            this.loginSvc.authenticateUser(\n              clinical6.user.email,\n              this.pin\n            )\n              .then(result => {\n                this.loading.dismiss().then(() => {\n                  this.isNavigating = false;\n                  this.moveToNextFlow();\n                });\n              })\n              .catch((reason) => {\n                this.loading.dismiss().then(() => {\n                  this.isNavigating = false;\n                  console.error('create-pin: authenticateUser failed: ', reason);\n                  this.showAlert('Error Signing in', reason.message ? reason.message : 'Try Again Later');\n                });\n              });\n          })\n          .catch(reason => {\n            this.loading.dismiss().then(() => {\n              this.isNavigating = false;\n              console.error('create-pin: set PIN failed: ', reason);\n              this.showAlert('Error', reason.message ? reason.message : 'Try Again Later');\n            });\n          });\n      }\n    }\n  }\n\n  unlockOld() {\n    if (!this.isNavigating) {\n      this.isNavigating = true;\n      console.log('unlock Passport with PIN');\n      if (AppConfig.demoMode) {\n        this.moveToNextFlow();\n        return;\n      }\n\n      // TODO: need to do dynamic data validation\n      const self = this;\n\n      this.captiveReach.setPin(this.pin, this.pinConfirm)\n\n        .then(result => {\n          this.nextFlow = true;\n          // setPin completed successfully, now we need to login\n          // self.captiveReach.login(self.user.name, self.pin)\n          // After setup new PIN, attach authtoken to local storage go to DashboardPage\n          // localStorage.setItem('authToken', this.authToken );\n\n\n          // if (this.appService.mobile_user.role.toLowerCase() === ROLESMAP.studyCoordinator.value) {\n          //  self.appService.setState(AppState.registered);\n          //  self.nav.push(DashboardPage, AppConfig.animationOpt);\n\n          // } else {\n          //   self.appService.setState(AppState.eagreement);\n          self.moveToNextFlow();\n          // }\n\n        })\n        .catch(reason => {\n          self.isNavigating = false;\n          self.showAlert('Error', reason.message + '<br>Try again later.');\n        });\n    }\n  }\n  goBack() {\n    this.nextFlow = false;\n  }\n\n  moveToNextFlow() {\n    /**\n     * This has to be overridden by the App\n     */\n  }\n\n  showError(errorSubTitle: string, errorText: string) {\n    const title = 'Error';\n    // using the Help Modal for the time being, later on to be reskinned\n    let modal = this.modalCtrl.create(HelpModalPage, { title: title, subTitle: errorSubTitle, helpText: errorText }, { showBackdrop: true });\n\n    modal.onDidDismiss(action => {\n      if (action === 'contact') {\n        // this.nav.push(ContactPPDPage, { from: '' }, AppConfig.animationOpt);\n      }\n    });\n\n    modal.present();\n  }\n  showAlert(title: string, message: string) {\n    let alert = this.alertCtrl.create({\n      title: title,\n      message: message,\n      cssClass: 'pin-alert',\n      buttons: [\n        {\n          text: this.translate('POPUP_OK') || 'OK',\n          handler: data => {\n            switch (title) {\n              case '...':\n                break;\n            }\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  get title() {\n    return this._title;\n  }\n\n  set title(text: string) {\n    this._title = text;\n  }\n\n  get pinLabel() {\n    return this._pinLabel;\n  }\n\n  set pinLabel(text: string) {\n    this._pinLabel = text;\n  }\n\n  get pinConfirmationLabel() {\n    return this._pinConfirmationLabel;\n  }\n\n  set pinConfirmationLabel(text: string) {\n    this._pinConfirmationLabel = text;\n  }\n\n  get helpText() {\n    return this._helpText;\n  }\n\n  set helpText(text: string) {\n    this._helpText = text;\n  }\n\n  get pinError() {\n    return this._pinError;\n  }\n\n  set pinError(text: string) {\n    this._pinError = text;\n  }\n\n  get unlockMessage() {\n    return this._unlockMessage;\n  }\n\n  set unlockMessage(text: string) {\n    this._unlockMessage = text;\n  }\n\n  translate(string_key: string) {\n    let str = this.translatorService.getInnerHTML(string_key);\n    return str;\n  }\n\n  presentLoading() {\n    this.loading = this.loadingController.create({\n      content: 'Please wait...',\n      dismissOnPageChange: true\n    });\n    this.loading.present();\n  }\n}\n"]}